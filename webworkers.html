<!DOCTYPE html>
<html>
 <head>
  <title>Ejercicio con WebWorkers</title>

 </head>
 <body>
  <form id="formulario" action="" method="POST">
  Numero: <input type="text" name="input">
  </form>
  <button onclick="buscarPrimos()">Buscar primos</button>
  <p>Los numeros primos hasta el numero dado son: <span id="result"></span></p>


    <script>
  var w;
  var primelist = "";
  if(typeof(Worker) !== "undefined") {
    if(typeof(w) == "undefined") {
      console.log("buum");
      w = new Worker("workers.js");
      console.log("baamm");
    }
}
function buscarPrimos() {
  w.postMessage(document.getElementById('formulario').input.value);
}

w.addEventListener('message', function(e) {
  primelist += " " + e.data;
  document.getElementById('result').innerHTML = primelist;
},false);

  </script>


 </body>
</html>
